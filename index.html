<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<title>ä¸­å›½èªå˜èª</title>
<style>
body {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    padding: 20px;
    max-width: 600px;
    margin: 0 auto;
    color: #2c3e50;
    background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
    min-height: 100vh;
}
h1 {
    font-size: 2.5em;
    margin-bottom: 30px;
    text-align: center;
    color: #34495e;
    text-shadow: 0 2px 4px rgba(0,0,0,0.1);
}
ul {
    list-style-type: none;
    padding: 0;
}
ul li {
    margin-bottom: 15px;
    padding: 15px;
    background: linear-gradient(135deg, #ffffff 0%, #f5f3f0 100%);
    color: #2c3e50;
    border-radius: 12px;
    box-shadow: 0 4px 12px rgba(52,73,94,0.1);
    border: 1px solid rgba(74,144,226,0.1);
    transition: all 0.3s ease;
    display: flex;
    align-items: center;
    gap: 15px;
}
ul li:hover {
    transform: translateY(-3px);
    box-shadow: 0 6px 20px rgba(52,73,94,0.15);
    border-color: rgba(74,144,226,0.3);
}
.word-number {
    background: linear-gradient(135deg, #4a90e2 0%, #357abd 100%);
    color: white;
    width: 35px;
    height: 35px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: bold;
    font-size: 0.9em;
    flex-shrink: 0;
}
.word-content {
    flex: 1;
}
.pronunciation {
    display: inline-block;
    vertical-align: bottom;
    margin-left: 5px;
}
.katakana {
    color: #95a5a6;
    font-size: 0.75em;
    display: block;
    line-height: 1;
    margin-bottom: 2px;
}
.pinyin {
    font-size: 0.9em;
    line-height: 1;
}
button {
    padding: 8px 16px;
    margin-left: 10px;
    font-size: 0.9em;
    background: linear-gradient(135deg, #4a90e2 0%, #357abd 100%);
    color: #ffffff;
    border: none;
    border-radius: 6px;
    cursor: pointer;
    box-shadow: 0 2px 8px rgba(74,144,226,0.3);
    transition: all 0.3s ease;
    font-weight: 500;
}
button:hover {
    background: linear-gradient(135deg, #357abd 0%, #2e6da4 100%);
    transform: translateY(-1px);
    box-shadow: 0 4px 12px rgba(74,144,226,0.4);
}
button:disabled {
    background: linear-gradient(135deg, #bdc3c7 0%, #95a5a6 100%);
    cursor: not-allowed;
    transform: none;
    box-shadow: 0 2px 4px rgba(0,0,0,0.1);
}
.error-message {
    color: #e74c3c;
    font-size: 0.9em;
    margin-top: 8px;
    display: none;
    font-weight: 500;
}
.success-message {
    color: #27ae60;
    font-size: 0.9em;
    margin-top: 8px;
    display: none;
    font-weight: 500;
}
@media (max-width: 600px) {
    body {
        padding: 15px;
    }
    h1 {
        font-size: 2em;
    }
    ul li {
        padding: 12px;
        flex-direction: column;
        align-items: flex-start;
        gap: 10px;
    }
    .word-number {
        width: 30px;
        height: 30px;
        font-size: 0.8em;
    }
    .word-content {
        width: 100%;
    }
    button {
        padding: 6px 12px;
        font-size: 0.8em;
        margin-left: 0;
        margin-top: 8px;
        display: block;
    }
    .pronunciation {
        display: block;
        margin-left: 0;
        margin-top: 5px;
    }
    .katakana {
        display: block;
        margin-bottom: 1px;
    }
    .pinyin {
        display: block;
    }
}
</style>
</head>
<body>
<h1>ä¸­å›½èªå˜èª</h1>
<div style="margin-bottom: 25px; padding: 15px; background: linear-gradient(135deg, #ffffff 0%, #f5f3f0 100%); color: #2c3e50; border-radius: 10px; border: 1px solid rgba(74,144,226,0.2); box-shadow: 0 2px 8px rgba(52,73,94,0.08);">
    <strong style="color: #4a90e2;">ğŸ’¡ ä½¿ç”¨æ–¹æ³•ï¼š</strong>éŸ³å£°ãƒ•ã‚¡ã‚¤ãƒ«ãŒãªã„å ´åˆã¯ã€ãƒ–ãƒ©ã‚¦ã‚¶ã®éŸ³å£°åˆæˆæ©Ÿèƒ½ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚
</div>
<ul id="wordsList"></ul>
<script>
const words = [
  {"chinese" : "ç¬¬" , "pinyin" : "dÃ¬" , "katakana" : "ãƒ‡ã‚£ãƒ¼" , "audio" : "audio/di.mp3" },
  {"chinese" : "ä¸€" , "pinyin" : "yÄ«" , "katakana" : "ã‚¤ãƒ¼" , "audio" : "audio/yi.mp3" },
  {"chinese" : "è¯¾" , "pinyin" : "kÃ¨" , "katakana" : "ã‚¯ãƒ¼" , "audio" : "audio/ke.mp3" },
  {"chinese" : "ä½ " , "pinyin" : "nÇ" , "katakana" : "ãƒ‹ãƒ¼" , "audio" : "audio/ni.mp3" },
  {"chinese" : "å«" , "pinyin" : "jiÃ o" , "katakana" : "ã‚¸ãƒ£ã‚ª" , "audio" : "audio/jiao.mp3" },
  {"chinese" : "ä»€ä¹ˆ" , "pinyin" : "shÃ©nme" , "katakana" : "ã‚·ã‚§ãƒ³ãƒ ãƒ¼" , "audio" : "audio/shenme.mp3" },
  {"chinese" : "åå­—" , "pinyin" : "mÃ­ngzi" , "katakana" : "ãƒŸãƒ³ã‚ºãƒ¼" , "audio" : "audio/mingzi.mp3" },
  {"chinese" : "ä½ å¥½" , "pinyin" : "nÇ hÇo" , "katakana" : "ãƒ‹ãƒ¼ãƒã‚ª" , "audio" : "audio/nihao.mp3" },
  {"chinese" : "è€å¸ˆ" , "pinyin" : "lÇoshi" , "katakana" : "ãƒ©ã‚ªã‚·ãƒ¼" , "audio" : "audio/laoshi.mp3" },
  {"chinese" : "å¥½" , "pinyin" : "hÇo" , "katakana" : "ãƒã‚ª" , "audio" : "audio/hao.mp3" },
  {"chinese" : "æˆ‘" , "pinyin" : "wÇ’" , "katakana" : "ã‚¦ã‚©ãƒ¼" , "audio" : "audio/wo.mp3" },
  {"chinese" : "å¾ˆ" , "pinyin" : "hÄ›n" , "katakana" : "ãƒ˜ãƒ³" , "audio" : "audio/hen.mp3" },
  {"chinese" : "å¥½å¬" , "pinyin" : "hÇotÄ«ng" , "katakana" : "ãƒã‚ªãƒ†ã‚£ãƒ³" , "audio" : "audio/haoting.mp3" },
  {"chinese" : "è°¢è°¢" , "pinyin" : "XiÃ¨xie" , "katakana" : "ã‚·ã‚¨ã‚·ã‚¨" , "audio" : "audio/xiexie.mp3" },
  {"chinese" : "æ˜¯" , "pinyin" : "shÃ¬" , "katakana" : "ã‚·ãƒ¼" , "audio" : "audio/shi.mp3" },
  {"chinese" : "ä¸­å›½" , "pinyin" : "ZhÅngguÃ³" , "katakana" : "ã‚¸ãƒ§ãƒ³ã‚°ã‚ª" , "audio" : "audio/zhongguo.mp3" },
  {"chinese" : "å“ªä¸ª" , "pinyin" : "nÇr" , "katakana" : "ãƒŠãƒ¼ãƒ«" , "audio" : "audio/nar.mp3" },
  {"chinese" : "äºº" , "pinyin" : "rÃ©n" , "katakana" : "ãƒ¬ãƒ³" , "audio" : "audio/ren.mp3" },
  {"chinese" : "è‹å·" , "pinyin" : "SÅ«zhÅu" , "katakana" : "ã‚¹ãƒ¼ã‚¸ãƒ§ã‚¦" , "audio" : "audio/suzhou.mp3" },
  {"chinese" : "åœ°æ–¹" , "pinyin" : "dÃ¬fang" , "katakana" : "ãƒ‡ã‚£ãƒ¼ãƒ•ã‚¡ãƒ³" , "audio" : "audio/difang.mp3" },
  {"chinese" : "æ‚¨å¥½" , "pinyin" : "NÃ­n hÇo" , "katakana" : "ãƒ‹ãƒ³ãƒã‚ª" , "audio" : "audio/ninhao.mp3" },
  {"chinese" : "ä½ ä»¬å¥½" , "pinyin" : "NÇmen hÇo" , "katakana" : "ãƒ‹ãƒ¼ãƒ¡ãƒ³ãƒã‚ª" , "audio" : "audio/nimenhao.mp3" },
  {"chinese" : "å¤§å®¶å¥½" , "pinyin" : "DÃ jiÄ hÇo" , "katakana" : "ãƒ€ãƒ¼ã‚¸ãƒ£ãƒ¼ãƒã‚ª" , "audio" : "audio/dajiahao.mp3" },
  {"chinese" : "æ—©ä¸Šå¥½" , "pinyin" : "ZÇoshang hÇo" , "katakana" : "ã‚¶ã‚ªã‚·ãƒ£ãƒ³ãƒã‚ª" , "audio" : "audio/zaoshanghao.mp3" },
  {"chinese" : "ä¸‹åˆå¥½" , "pinyin" : "XiÃ wÇ” hÇo" , "katakana" : "ã‚·ãƒ£ãƒ¼ã‚¦ãƒ¼ãƒã‚ª" , "audio" : "audio/xiawuhao.mp3" },
  {"chinese" : "æ™šä¸Šå¥½" , "pinyin" : "WÇnshang hÇo" , "katakana" : "ãƒ¯ãƒ³ã‚·ãƒ£ãƒ³ãƒã‚ª" , "audio" : "audio/wanshanghao.mp3" },
  {"chinese" : "ä¸" , "pinyin" : "bÃ¹" , "katakana" : "ãƒ–ãƒ¼" , "audio" : "audio/bu.mp3" },
  {"chinese" : "ä¸å®¢æ°”" , "pinyin" : "BÃº kÃ¨qi" , "katakana" : "ãƒ–ãƒ¼ã‚¯ãƒ¼ãƒãƒ¼" , "audio" : "audio/bukeqi.mp3" },
  {"chinese" : "ä¸ç”¨è°¢" , "pinyin" : "BÃº yÃ²ng xiÃ¨" , "katakana" : "ãƒ–ãƒ¼ãƒ¨ãƒ³ã‚·ã‚¨" , "audio" : "audio/buyongxie.mp3" },
  {"chinese" : "å¯¹ä¸èµ·" , "pinyin" : "DuÃ¬buqÇ" , "katakana" : "ãƒ‰ã‚¥ã‚¤ãƒ–ãƒãƒ¼" , "audio" : "audio/duibuqi.mp3" },
  {"chinese" : "æ²¡å…³ç³»" , "pinyin" : "MÃ©i guÄnxi" , "katakana" : "ãƒ¡ã‚¤ã‚°ã‚¢ãƒ³ã‚·ãƒ¼" , "audio" : "audio/meiguanxi.mp3" },
  {"chinese" : "è¯·å¤šå…³ç…§" , "pinyin" : "QÇng duÅ guÄnzhÃ o" , "katakana" : "ãƒãƒ³ãƒ‰ã‚¥ã‚ªã‚°ã‚¢ãƒ³ã‚¸ãƒ£ã‚ª" , "audio" : "audio/qingduoguanzhao.mp3" },
  {"chinese" : "è¯·å¤šæŒ‡æ•™" , "pinyin" : "QÇng duÅ zhÇjiÄo" , "katakana" : "ãƒãƒ³ãƒ‰ã‚¥ã‚ªã‚¸ãƒ¼ã‚¸ãƒ£ã‚ª" , "audio" : "audio/qingduozhijiao.mp3" },
  {"chinese" : "æ—¥æœ¬" , "pinyin" : "RÃ¬bÄ›n" , "katakana" : "ãƒªãƒ¼ãƒ™ãƒ³" , "audio" : "audio/riben.mp3" },
  {"chinese" : "ä¸­å›½" , "pinyin" : "ZhÅngguÃ³" , "katakana" : "ã‚¸ãƒ§ãƒ³ã‚°ã‚ª" , "audio" : "audio/zhongguo.mp3" },
  {"chinese" : "éŸ©å›½" , "pinyin" : "HÃ¡nguÃ³" , "katakana" : "ãƒãƒ³ã‚°ã‚ª" , "audio" : "audio/hanguo.mp3" },
  {"chinese" : "ç¾å›½" , "pinyin" : "MÄ›iguÃ³" , "katakana" : "ãƒ¡ã‚¤ã‚°ã‚ª" , "audio" : "audio/meiguo.mp3" },
  {"chinese" : "è‹±å›½" , "pinyin" : "YÄ«ngguÃ³" , "katakana" : "ã‚¤ãƒ³ã‚°ã‚°ã‚ª" , "audio" : "audio/yingguo.mp3" },
  {"chinese" : "å¾·å›½" , "pinyin" : "DÃ©guÃ³" , "katakana" : "ãƒ‰ã‚¥ãƒ¼ã‚°ã‚ª" , "audio" : "audio/deguo.mp3" },
  {"chinese" : "æ³•å›½" , "pinyin" : "FÇguÃ³" , "katakana" : "ãƒ•ã‚¡ãƒ¼ã‚°ã‚ª" , "audio" : "audio/faguo.mp3" },
  {"chinese" : "ä¿„ç½—æ–¯" , "pinyin" : "Ã‰luÃ³sÄ«" , "katakana" : "ã‚ªãƒ«ã‚ªã‚¹ãƒ¼" , "audio" : "audio/eluosi.mp3" },
  {"chinese" : "æ‚¨" , "pinyin" : "nÃ­n" , "katakana" : "ãƒ‹ãƒ³" , "audio" : "audio/nin.mp3" },
  {"chinese" : "è´µå§“" , "pinyin" : "guÃ¬xÃ¬ng" , "katakana" : "ã‚°ã‚¤ã‚·ãƒ³" , "audio" : "audio/guixing.mp3" },
  {"chinese" : "å“ª" , "pinyin" : "nÇ" , "katakana" : "ãƒŠãƒ¼" , "audio" : "audio/na.mp3" },
  {"chinese" : "å›½" , "pinyin" : "guÃ³" , "katakana" : "ã‚°ã‚ª" , "audio" : "audio/guo.mp3" }
];

// éŸ³å£°åˆæˆæ©Ÿèƒ½ã®ä½¿ç”¨å¯èƒ½æ€§ã‚’ãƒã‚§ãƒƒã‚¯
const speechSynthesisSupported = 'speechSynthesis' in window;

// ä¸­å›½èªéŸ³å£°ã‚’å–å¾—ã™ã‚‹é–¢æ•°
function getChineseVoice() {
    const voices = speechSynthesis.getVoices();
    return voices.find(voice => 
        voice.lang.includes('zh') || 
        voice.name.includes('Chinese') ||
        voice.name.includes('ä¸­æ–‡')
    ) || voices[0];
}

// éŸ³å£°åˆæˆã§ä¸­å›½èªã‚’èª­ã¿ä¸Šã’ã‚‹é–¢æ•°
function speakChinese(text, button, errorDiv, successDiv) {
    if (!speechSynthesisSupported) {
        errorDiv.textContent = 'éŸ³å£°åˆæˆãŒã‚µãƒãƒ¼ãƒˆã•ã‚Œã¦ã„ã¾ã›ã‚“';
        errorDiv.style.display = 'block';
        return;
    }
    
    button.disabled = true;
    button.textContent = 'å†ç”Ÿä¸­...';
    
    const utterance = new SpeechSynthesisUtterance(text);
    utterance.lang = 'zh-CN';
    utterance.rate = 0.8;
    utterance.pitch = 1;
    
    // ä¸­å›½èªéŸ³å£°ã‚’è¨­å®š
    const chineseVoice = getChineseVoice();
    if (chineseVoice) {
        utterance.voice = chineseVoice;
    }
    
    utterance.onend = () => {
        button.disabled = false;
        button.textContent = 'å†ç”Ÿã—ã¦è´ã!';
        successDiv.textContent = 'å†ç”Ÿå®Œäº†';
        successDiv.style.display = 'block';
        setTimeout(() => {
            successDiv.style.display = 'none';
        }, 2000);
    };
    
    utterance.onerror = (event) => {
        button.disabled = false;
        button.textContent = 'å†ç”Ÿã—ã¦è´ã!';
        errorDiv.textContent = 'å†ç”Ÿã‚¨ãƒ©ãƒ¼: ' + event.error;
        errorDiv.style.display = 'block';
    };
    
    speechSynthesis.speak(utterance);
}

// éŸ³å£°ãƒ•ã‚¡ã‚¤ãƒ«ã‚’å†ç”Ÿã™ã‚‹é–¢æ•°
function playAudioFile(audioPath, button, errorDiv, successDiv, chineseText) {
    button.disabled = true;
    button.textContent = 'å†ç”Ÿä¸­...';
    
    const audio = new Audio(audioPath);
    
    audio.oncanplaythrough = () => {
        audio.play().then(() => {
            successDiv.textContent = 'å†ç”Ÿä¸­...';
            successDiv.style.display = 'block';
        }).catch(error => {
            console.log('éŸ³å£°ãƒ•ã‚¡ã‚¤ãƒ«å†ç”Ÿå¤±æ•—ã€éŸ³å£°åˆæˆã‚’ä½¿ç”¨:', error);
            speakChinese(chineseText, button, errorDiv, successDiv);
        });
    };
    
    audio.onended = () => {
        button.disabled = false;
        button.textContent = 'å†ç”Ÿã—ã¦è´ã!';
        successDiv.textContent = 'å†ç”Ÿå®Œäº†';
        setTimeout(() => {
            successDiv.style.display = 'none';
        }, 2000);
    };
    
    audio.onerror = () => {
        console.log('éŸ³å£°ãƒ•ã‚¡ã‚¤ãƒ«ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“ã€éŸ³å£°åˆæˆã‚’ä½¿ç”¨');
        speakChinese(chineseText, button, errorDiv, successDiv);
    };
    
    // ãƒ•ã‚¡ã‚¤ãƒ«ã®å­˜åœ¨ç¢ºèªã®ãŸã‚ãƒ­ãƒ¼ãƒ‰ã‚’é–‹å§‹
    audio.load();
}

const list = document.getElementById('wordsList');

// éŸ³å£°ã®èª­ã¿è¾¼ã¿å®Œäº†ã‚’å¾…ã¤
if (speechSynthesisSupported) {
    speechSynthesis.onvoiceschanged = createWordList;
}
createWordList();

function createWordList() {
    list.innerHTML = ''; // æ—¢å­˜ã®ãƒªã‚¹ãƒˆã‚’ã‚¯ãƒªã‚¢
    
    words.forEach((word, index) => {
        const item = document.createElement('li');
        item.innerHTML = `
            <div class="word-number">${index + 1}</div>
            <div class="word-content">
                <div>
                    <strong>${word.chinese}</strong>
                    <span class="pronunciation">
                        <span class="katakana">${word.katakana}</span>
                        <span class="pinyin">(${word.pinyin})</span>
                    </span>
                    <button id="btn-${index}">å†ç”Ÿã—ã¦è´ã!</button>
                </div>
                <div class="error-message" id="error-${index}"></div>
                <div class="success-message" id="success-${index}"></div>
            </div>
        `;
        
        const button = item.querySelector(`#btn-${index}`);
        const errorDiv = item.querySelector(`#error-${index}`);
        const successDiv = item.querySelector(`#success-${index}`);
        
        button.onclick = () => {
            errorDiv.style.display = 'none';
            successDiv.style.display = 'none';
            playAudioFile(word.audio, button, errorDiv, successDiv, word.chinese);
        };
        
        list.appendChild(item);
    });
}
</script>
</body>
</html>